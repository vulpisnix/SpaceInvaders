<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

	<meta content="no-cache" http-equiv="Pragma">
	<meta content="no-cache, no-store, must-revalidate" http-equiv="Cache-Control">
	<meta content="0" http-equiv="Expires">

	<link rel="stylesheet" type="text/css" href="./style.css">

	<link rel="icon" href="./data/ships/shipLevel0.png" />

	<script src="./p5/p5.js"></script>
	<script src="./p5/p5.sound.js"></script>
	<title>Space Invaders</title>

</head>
	<body oncontextmenu="return false;"></body>
</html>

<script>
	const loadScript = src => {
		return new Promise((resolve, reject) => {
			const script = document.createElement('script')
			script.type = 'text/javascript'
			script.onload = resolve
			script.onerror = reject
			script.src = src
			document.head.append(script)
		})
	}

	document.addEventListener("DOMContentLoaded", (event) => {
		loadScript('js/values.js');
		loadScript('js/audio.js');
		loadScript('js/loader.js');

		loadScript('ui/checkbox.js');
		loadScript('ui/slider.js');
		loadScript('ui/keychanger.js');
		loadScript('ui/button.js');

		loadScript('js/shop/shopProduct.js');
		loadScript('js/shop/shopPreview.js');
		loadScript('js/shipUpgrade.js');

		loadScript('js/animation.js');
		loadScript('js/enemy.js');
		loadScript('js/bullet.js');
		loadScript('js/bomb.js');
		loadScript('js/player.js');


		loadScript('scenes/scene.js');
		loadScript('scenes/menuScene.js');
		loadScript('scenes/settingsScene.js');
		loadScript('scenes/creditsScene.js');
		loadScript('scenes/achievementsScene.js');
		loadScript('scenes/storeScene.js');
		loadScript('scenes/storeBackgroundsScene.js');
		loadScript('scenes/storeShipUpgradesScene.js');
		loadScript('scenes/yourShipScene.js');
		loadScript('scenes/gameScene.js');

		setTimeout(() => {
			loadScript('sketch.js');
		}, 500);
	});
</script>